{% extends 'base.html' %}
{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-md-6 mb-4 mb-md-0 p-0">
            <div class="demo">
                <a href="{{ object.image_high.url }}"data-size="710x823">
                    <img src="{{ object.image.url }}">
                </a>
            </div>
        </div>
        <div class="col-md-6 m-0 p-0">

            <h5 style="font-size: 30px; font-weight: bold" class="text-muted">{{ object.name }}</h5>
            <p class="mb-2 text-muted text-uppercase  font-weight-bold">{{ object.category.cat_title }}</p>
            <p class="font-weight-bold" style="font-size: 20px"><span class="mr-1"><strong> â‚¹ {{ object.price }}</strong></span></p>
            <p class="pt-1">{{ object.description }}</p>
            <div class="table-responsive">
              <table class="table table-sm table-borderless mb-0">
                <tbody>
                  <tr>
                    <th class="pl-0 w-25"style="font-size: 15px;font-weight: bolder" scope="row"><strong>Model</strong></th>
                    <td>Shirt 5407X</td>
                  </tr>
                  <tr>
                    <th class="pl-0 w-25"style="font-size: 15px" scope="row"><strong>Color</strong></th>
                    <td>{{ object.color }}</td>
                  </tr>
                  <tr>
                    <th class="pl-0 w-25"style="font-size: 15px" scope="row"><strong>Delivery</strong></th>
                    <td>India</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <hr>
            <div class="table-responsive mb-2">
              <table class="table table-sm table-borderless">
                <tbody>
                  <tr>
                    <td class="pb-0">Select size</td>
                  </tr>
                  <tr>
                    <td>
                      <div class="mt-1">
                        <div class="form-check form-check-inline pl-0">
                          <input type="radio" class="form-check-input" id="small" name="materialExampleRadios" checked="">
                          <label class="form-check-label small text-uppercase card-link-secondary" for="small">Small</label>
                        </div>
                        <div class="form-check form-check-inline pl-0">
                          <input type="radio" class="form-check-input" id="medium" name="materialExampleRadios">
                          <label class="form-check-label small text-uppercase card-link-secondary" for="medium">Medium</label>
                        </div>
                        <div class="form-check form-check-inline pl-0">
                          <input type="radio" class="form-check-input" id="large" name="materialExampleRadios">
                          <label class="form-check-label small text-uppercase card-link-secondary" for="large">Large</label>
                        </div>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
           <a href="{{ object.get_add_to_cart }}" type="button" class="btn blue-gradient mr-1 mb-2 waves-effect waves-light"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-cart3" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm7 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg>  Add to cart</a>
            <a href="" type="button" class="btn aqua-gradient mr-1 mb-2 waves-effect waves-light"> Buy Now</a>

          </div>
    </div>
</div>
<script>
    $(".demo").jqzoomer();
</script>

<div class="classic-tabs p-3">
        <ul class="nav tabs-primary nav-justified" id="advancedTab" role="tablist">
          <li class="nav-item" style="border-bottom: 1px solid #dee2e6;">
            <a class="nav-link show text-muted" id="description-tab" data-toggle="tab" href="#description" role="tab" aria-controls="description" aria-selected="false"><strong>Description</strong></a>
          </li>
          <li class="nav-item" style="border-bottom: 1px solid #dee2e6;">
            <a class="nav-link text-muted" id="info-tab" data-toggle="tab" href="#info" role="tab" aria-controls="info" aria-selected="false">Information</a>
          </li>
          <li class="nav-item" style="border-bottom: 1px solid #dee2e6;">
            <a class="nav-link active text-muted" id="reviews-tab" data-toggle="tab" href="#reviews" role="tab" aria-controls="reviews" aria-selected="true">Reviews</a>
          </li>
        </ul>
        <div class="tab-content" id="advancedTabContent">
            <div class="tab-pane fade mt-3 bg-light p-3" id="description" role="tabpanel" aria-labelledby="description-tab">
            <h5 class="font-weight-bold"><strong>Product Description</strong></h5>
            <p class="small text-muted text-uppercase mb-2">{{ object.name }}</p>
            <h6>{{ object.price }}</h6>
            <p class="pt-1">{{ object.description }}</p>
          </div>
            <div class="tab-pane fade p-3" id="info" role="tabpanel" aria-labelledby="info-tab">
            <h5 class="mt-3">Additional Information</h5>
            <table class="table table-striped table-bordered mt-3">
              <thead>
                <tr>
                  <th scope="row" class="w-150 dark-grey-text h6">Weight</th>
                  <td><em> {{ object.weight }}</em></td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row" class="w-150 dark-grey-text h6">Color</th>
                  <td><em>{{ object.color }}</em></td>
                </tr>
              </tbody>
            </table>
          </div>
            <div class="tab-pane fade active show p-3 bg-light" id="reviews" role="tabpanel" aria-labelledby="reviews-tab">
            <h5 class="mt-3"><span></span> Review for <span class="ml-2">{{ object.name }}</span></h5>
            <div class="media mt-3 mb-4">
              {% for foo in review %}
                    <div class="media-body">
                    {% load static %}
                    <img class="d-flex mr-3 mb-2 z-depth-1" src="{% static 'default-user-image.png' %}" alt="Generic placeholder image" style="height: 70px">
                    <p class="h5 font-weight-bold"><strong>{{ foo.user.username }}</strong></p>
                <div class="d-flex justify-content-between">
                  <p class="h6"><span>Rating <span class="ml-5">{{ foo.rating }}</span></span></p>
                </div>
                <p class="mb-0">{{ foo.comment }}</p>
                <i class="fas fa-edit pr-3"></i><a href="{% url 'shop:edit_review' foo.id %}" style="text-decoration: none">Edit</a>
                <i class="fas fa-trash pr-3 pl-3"></i><a href="{% url 'shop:del_review' foo.id %}" onclick="return confirm('Are you sure ??');">Delete</a>

              </div>
              {% endfor %}
            </div>
            <hr>
            <h5 class="mt-4">Add a review</h5>
            <p>Your email address will not be published.</p>
                <form method="post" action="{% url 'shop:addreview' products.id %}">
                    {% csrf_token %}
            <div>
              <div class="md-form md-outline">
                <textarea id="id_comment" required name="comment" class="md-textarea form-control pr-6 border-dark" rows="4"></textarea>
                <label for="id_comment">Your review</label>
              </div>
                <label for="comment" class="ml-2"style="font-size: 25px"><strong>Rating</strong></label>
                    <input type="range" class="border-dark" id="rangeInput" name="rating" min="0" max="10" value="0" step="0.5" oninput="ammount.value= rangeInput.value">
                    <output name="ammount" id="ammount" for="rangeInput">0</output>
                    <div class="text-right pb-2">
                    <button class="btn btn-primary waves-effect waves-light">Add a review</button>
                  </div>
            </div>
                </form>
          </div>
        </div>
      </div>
<h3 class="mt-5 mb-0 text-center">Releted Products</h3>
<div class="container">
    <div class="row">
        <div class="col-sm-12">
            <div class="row">
                {% for p in releated_products %}
            {% if p.category == products.category %}
.               <div class="col-sm-3 mt-5">
            <div class="card">
                <div class="view zoom overlay rounded z-depth-2">
                <img src="{{ p.image.url }}" alt="" class=" w-100" style="height: 300px">
                <a href="#">
                      <div class="mask waves-effect waves-dark">
                        <img class="img-fluid w-100" src="{{ p.image.url }}">
                        <div class="mask rgba-black-slight waves-effect waves-light"></div>
                      </div>
                </a>
            </div>
                <div class="card-body text-center pt-4">
                <h5>{{ p.name }}</h5>
                {% if p.discount_price %}
                    <p class="">Price: <del class="text-muted"> <strong>{{ p.price }}</strong></del> <span class="text-success"><strong>{{ p.discount_price }}</strong></span></p>
                    {% else %}
                    <p class="m-0">Price:  {{ p.price }}</p>
                {% endif %}
                <a href="" type="button" class="btn blue-gradient btn-sm mr-1 mb-2 waves-effect waves-light"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-cart3" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm7 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg>  Add to cart</a>
                <a href="{{ p.get_absolute_url }}" type="button" class="btn aqua-gradient btn-sm mr-1 mb-2 waves-effect waves-light"> Detail</a>
                <a  href="{{ p.get_wishlist }}" type="button" class="btn btn-danger btn-sm mr-1 mb-2 material-tooltip-main waves-effect waves-light" data-toggle="tooltip" data-placement="top" title="Add to wishlist"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-suit-heart-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M4 1c2.21 0 4 1.755 4 3.92C8 2.755 9.79 1 12 1s4 1.755 4 3.92c0 3.263-3.234 4.414-7.608 9.608a.513.513 0 0 1-.784 0C3.234 9.334 0 8.183 0 4.92 0 2.755 1.79 1 4 1z"/></svg></a>

            </div>
            </div>
        </div>
            {% endif %}

        {% endfor %}
            </div>
        </div>
    </div>
</div>


{% endblock %}
